@model IEnumerable<JAMSv1._0.Models.Question>

@{
    ViewBag.Title = "Index";
}

 <div id="progressbar">
     <div id="progressbar" class="all-rounded" style="width: 50%"><span></span></div>
</div>

<div class="row">
    <div class="col-md-offset-1">
        <section id="questionForm">
            <h2>Questions</h2>

            @Html.ActionLink("Create New", "Create")
            
            @{
                Random rand = new Random();
                List<int> numberList = new List<int>();
                for (int i = 0; i < Model.Count(); i++)
                {
                    numberList.Add(i + 1);
                }
                for (int i = 0; i < 5; i++)
                {
                    var index = rand.Next() % numberList.Count();
                    var k = numberList[index];
                    numberList.RemoveAt(index);

                    foreach (var item in Model)
                    {
                        if (item.QuestionID == k)
                        {

                            using (Html.BeginForm("Index", "Questions", FormMethod.Post, new { enctype = "multipart/form-data" }))
                            {
                                @Html.AntiForgeryToken()
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                <div class="form-group">
                                    <p>
                                        @Html.DisplayNameFor(model => model.QuestionString)
                                        @{ViewBag.QuestionNumber = i+1 + ":";}
                                        @ViewBag.QuestionNumber&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        @Html.DisplayFor(modelItem => item.QuestionString)
                                    </p>
                                </div>


                                <div class="form-group">
                                    <p>
                                        @Html.DisplayNameFor(model => model.Answer1)
                                        @Html.RadioButtonFor(modelitem => item.Answer1, item.Answer1)
                                        @Html.LabelFor(modelitem => item.Answer1, item.Answer1)
                                    </p>
                                </div>
                                <div class="form-group">
                                    <p>
                                        @Html.DisplayNameFor(model => model.Answer2)
                                        @Html.RadioButtonFor(modelitem => item.Answer1, item.Answer2)
                                        @Html.LabelFor(modelitem => item.Answer1, item.Answer2)
                                    </p>
                                </div>
                                <div class="form-group">
                                    <p>
                                        @Html.DisplayNameFor(model => model.Answer3)
                                        @Html.RadioButtonFor(modelitem => item.Answer1, item.Answer3)
                                        @Html.LabelFor(modelitem => item.Answer1, item.Answer3)
                                    </p>
                                </div>
                                <div class="form-group">
                                    <p>
                                        @Html.DisplayNameFor(model => model.Answer4)
                                        @Html.RadioButtonFor(modelitem => item.Answer1, item.Answer4)
                                        @Html.LabelFor(modelitem => item.Answer1, item.Answer4) <p>&nbsp;</p> 
                                    </p>
                                </div>

                            }

                        }
                    }
                }
                using (Html.BeginForm("Index", "Questions", FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
                    <div class="form-group">
                        <p>
                            <input type="submit" id="submit" class="btn btn-default" value="Submit" />
                        </p>
                    </div>
                }
            }
        </section>
    </div>
</div>
